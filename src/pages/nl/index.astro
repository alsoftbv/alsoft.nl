---
import { getRelativeLocaleUrl } from "astro:i18n";
import { Image } from "astro:assets";

import BaseLayout from "@layouts/BaseLayout.astro";
import CardsSection from "@components/CardsSection.astro";

import { services } from "@data/services";
import { industries } from "@data/industries";
import Button from "@components/Button.astro";

import headerImage from "@images/index/header-image.jpg";
import agreement from "@images/index/agreement.png";
import me from "@images/index/me.jpg";
import iai from "@images/index/companies/iai.svg";
import idd from "@images/index/companies/idd.png";
import valinso from "@images/index/companies/valinso.svg";

import reliabilityIcon from "@images/index/icons/reliability.svg";
import performanceIcon from "@images/index/icons/performance.svg";
import developmentIcon from "@images/index/icons/development.svg";
import pencilIcon from "@images/index/icons/pencil.svg";
import checkIcon from "@images/index/icons/check.svg";
import adjustmentIcon from "@images/index/icons/adjustment.svg";
import Carousel from "@components/Carousel.astro";
import nl from "@locales/nl.json";

const carouselImages = [
  { src: valinso, href: "https://valinso.nl", name: "Valinso" },
  { src: idd, href: "https://idend.nl", name: "ID&D" },
  { src: iai, href: "https://iai.nl", name: "IAI" },
];

const t = nl;
---

<BaseLayout>
  <section class="header">
    <div class="header-info">
      <div class="header-text">
        <h1>{t.indexHeader}</h1>
        <p>{t.indexFirst}</p>
        <p class="sub">{t.indexSecond}</p>
      </div>
      <Button class="work-button" href="#plan">{t.indexButton}</Button>
    </div>
    <div class="header-img">
      <Image
        src={headerImage}
        alt="IoT device"
        layout="full-width"
        loading="eager"
      />
    </div>
  </section>

  <section class="solution-tease">
    <div class="benefit">
      <Image
        src={reliabilityIcon}
        alt="Reliability"
        width={32}
        height={32}
        loading="eager"
      />
      <p>{t.benefitFirst}</p>
    </div>
    <div class="benefit">
      <Image
        src={performanceIcon}
        alt="Performance"
        width={32}
        height={32}
        loading="eager"
      />
      <p>{t.benefitSecond}</p>
    </div>
    <div class="benefit">
      <Image
        src={developmentIcon}
        alt="Development"
        width={32}
        height={32}
        loading="eager"
      />
      <p>{t.benefitThird}</p>
    </div>
  </section>

  <section class="problems">
    <h2>{t.problemsHeader}</h2>
    <p>{t.problemsText}</p>
    <strong class="underline">{t.problemsHighlight}</strong>
  </section>

  <section class="solution">
    <h2>{t.solutionHeader}</h2>
    <div class="solution-steps">
      <div class="solution-box">
        <Image
          src={pencilIcon}
          alt="Design"
          width={32}
          height={32}
          loading="lazy"
        />
        <div class="step">
          <h3 class="label">{t.solutionStepsDesign.label}</h3>
          <p class="desc">{t.solutionStepsDesign.desc}</p>
        </div>
      </div>

      <div class="solution-box">
        <Image
          src={checkIcon}
          alt="Test"
          width={32}
          height={32}
          loading="lazy"
        />
        <div class="step">
          <h3 class="label">{t.solutionStepsTest.label}</h3>
          <p class="desc">{t.solutionStepsTest.desc}</p>
        </div>
      </div>

      <div class="solution-box">
        <Image
          src={adjustmentIcon}
          alt="Refine"
          width={32}
          height={32}
          loading="lazy"
        />
        <div class="step">
          <h3 class="label">{t.solutionStepsRefine.label}</h3>
          <p class="desc">{t.solutionStepsRefine.desc}</p>
        </div>
      </div>
    </div>
    <p>{t.solutionText}</p>
  </section>

  <section class="proof">
    <h2>{t.proofHeader}</h2>
    <p>{t.proofText}</p>
  </section>

  <section class="cards-container">
    <CardsSection
      title={t.ourServices}
      page={getRelativeLocaleUrl(Astro.currentLocale ?? "en", "services")}
      items={services}
    />
    <CardsSection
      title={t.industriesWeWork}
      page={getRelativeLocaleUrl(Astro.currentLocale ?? "en", "industries")}
      items={industries}
    />
  </section>

  <section class="more-proof">
    <h2>{t.moreProofHeader}</h2>
    <Carousel images={carouselImages} />
    <p class="proof-text underline">{t.moreProofSubtext}</p>
  </section>

  <section class="about">
    <Image src={me} alt="My Image" loading="lazy" />
    <div class="about-text">
      <h2>{t.aboutHeader}</h2>
      <p>{t.aboutText}</p>
    </div>
  </section>

  <section id="plan" class="plan">
    <div class="plan-text">
      <h2>{t.planHeader}</h2>
      <ol>
        <li><strong>{t.planLabels.chat}:</strong> {t.planSteps.chat}</li>
        <li><strong>{t.planLabels.plan}:</strong> {t.planSteps.plan}</li>
        <li><strong>{t.planLabels.agree}:</strong> {t.planSteps.agree}</li>
        <li><strong>{t.planLabels.build}:</strong> {t.planSteps.build}</li>
      </ol>
      <i>{t.planNote}</i>
    </div>
    <Image src={agreement} alt="Agreement" />
  </section>

  <section class="cta">
    <h2>{t.ctaHeader}</h2>
    <p>{t.ctaText}</p>
    <Button href={getRelativeLocaleUrl(Astro.currentLocale ?? "en", "/contact")}
      >{t.ctaButton}</Button
    >
  </section>
</BaseLayout>

<style>
  section {
    max-width: 960px;
    margin: 0 auto;
    padding: 3rem 1.5rem;
  }

  h1 {
    font-size: 2rem;
  }

  h1,
  h2 {
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 2rem;
    padding-top: 4rem;
  }

  .header-info {
    flex: 1 1 320px;
  }

  .header-img {
    flex: 1 1 320px;
    text-align: center;
  }

  .header-img img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
  }

  .underline {
    text-decoration-line: underline;
    text-decoration-style: solid;
    text-decoration-color: rgba(255, 145, 0, 0.5);
    text-decoration-thickness: 0.5rem;
    text-decoration-skip-ink: none;
    text-underline-offset: -0.2rem;
  }

  .solution-tease {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 1.5rem;
    text-align: left;
  }

  .solution-steps {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.5rem;
    text-align: left;
  }

  .solution-box {
    display: flex;
    flex-wrap: wrap;
    align-items: start;
    margin: 1rem 0;
    gap: 0 1rem;
  }

  .solution-steps h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  .solution-steps p {
    margin: 0;
  }

  .benefit {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    flex: 1 1 280px;
  }

  .step {
    max-width: 200px;
  }

  .cards-container {
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }

  .proof-text {
    font-size: 0.9em;
    text-align: center;
  }

  .about {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 1rem;
  }

  .about img {
    max-height: 240px;
    width: auto;
    border-radius: 100%;
  }

  .plan {
    scroll-margin-top: 1rem;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
  }

  .plan ol {
    padding-left: 1.2rem;
    line-height: 1.8;
  }

  .plan img {
    height: 15rem;
    width: auto;
  }

  .cta {
    text-align: center;
    border-radius: 0.75rem;
    padding: 4rem 2rem;
  }

  @media (max-width: 768px) {
    .about img {
      max-height: 120px;
    }
  }
</style>
